(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{503:function(t,a,s){"use strict";s.r(a);var r=s(34),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[t._v("#")]),t._v(" Linux")]),t._v(" "),s("h2",{attrs:{id:"linux-防火墙"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-防火墙"}},[t._v("#")]),t._v(" Linux 防火墙")]),t._v(" "),s("blockquote",[s("p",[t._v("iptables/firewalld 是 Linux 机器上管理防火墙规则的工具，及建立本地端口与容器端口间的转发")])]),t._v(" "),s("p",[t._v("防火墙主要功能是依据策略对外部请求进行过滤；防火墙技术能够监控每一个数据包并判断是否有相应的匹配策略规则，直到匹配到其中一条策略规则或执行默认策略为止，防火墙策略可以基于来源地址、请求动作或协议等信息来定制，最终仅让合法的用户请求流入到内网中，其余的均被丢弃。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/%E9%98%B2%E7%81%AB%E5%A2%99.jpg",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("iptables 服务会把配置好的防火墙策略交由内核层面的 netfilter 网络过滤器来处理")]),t._v(" "),s("li",[t._v("firewalld 服务会把配置好的防火墙策略交由内核层面的 nftables 包过滤框架来处理")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run 命令参数 -p 可建立本地端口和容器端口的映射，也可通过防火墙给运行中的容器建立端口转发")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("xzx@xzx ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it dmcdw-1 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ifconfig")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看容器 IP 地址")]),t._v("\neth0: "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("flags")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("416")]),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v("<")]),t._v("UP,BROADCAST,RUNNING,MULTICAST"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v("\n        inet "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.21")]),t._v(".0.2  netmask "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255.255")]),t._v(".0.0  broadcast "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.21")]),t._v(".255.255\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将本地端口 21000 转发至容器 172.21.0.2 端口 21000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("xzx@xzx ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" firewall-cmd --zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-forward-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21000")]),t._v(":proto"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tcp:toaddr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.21")]),t._v(".0.2:toport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21000")]),t._v(" --permanent\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("xzx@xzx ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" firewall-cmd --zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21000")]),t._v("/tcp --permanent  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开放本地 21000 端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("xzx@xzx ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" firewall-cmd --reload     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重新加载")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("xzx@xzx ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" firewall-cmd --list-port  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看开放端口")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("参考文章：\n"),s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/45920510",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 防火墙：关于 iptables 和 firewalld 的那些事"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.cnblogs.com/wdp-home/p/11651855.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("iptables和firewalld防火墙总结"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"linux-常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-常用命令"}},[t._v("#")]),t._v(" Linux 常用命令")]),t._v(" "),s("p",[t._v("安利两个网站："),s("a",{attrs:{href:"https://www.linuxcool.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux命令大全(手册)"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://man.linuxde.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux命令大全"),s("OutboundLink")],1),t._v(" 和一张图\n"),s("img",{attrs:{src:"/images/kr/java/linux/VI-VIM-%E9%94%AE%E7%9B%98%E5%9B%BE.jpg",alt:"VI-VIM-键盘图"}})]),t._v(" "),s("h3",{attrs:{id:"目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png",alt:"目录结构"}})]),t._v(" "),s("h3",{attrs:{id:"vi-vim"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vi-vim"}},[t._v("#")]),t._v(" VI/VIM")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/VI-VIM.png",alt:"VI-VIM"}})]),t._v(" "),s("h3",{attrs:{id:"系统管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统管理"}},[t._v("#")]),t._v(" 系统管理")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86.png",alt:"系统管理"}})]),t._v(" "),s("h3",{attrs:{id:"进程线程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程线程"}},[t._v("#")]),t._v(" 进程线程")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B.png",alt:"进程线程"}})]),t._v(" "),s("h3",{attrs:{id:"网络管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络管理"}},[t._v("#")]),t._v(" 网络管理")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86.png",alt:"网络管理"}})]),t._v(" "),s("h3",{attrs:{id:"文件目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件目录"}},[t._v("#")]),t._v(" 文件目录")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95.png",alt:"文件目录"}})]),t._v(" "),s("h3",{attrs:{id:"用户权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户权限"}},[t._v("#")]),t._v(" 用户权限")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/kr/java/linux/%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90.png",alt:"用户权限"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);